(this.webpackJsonpdiary=this.webpackJsonpdiary||[]).push([[0],{10:function(e,t,a){e.exports=a(15)},15:function(e,t,a){"use strict";a.r(t);var n=a(0),m=a.n(n),c=a(4),l=a.n(c),i=a(1),r=a(5),o=a(6),s=a(7),u=a(9),d=a(8),v=function(e){var t=e.name,a=e.value,n=e.onChange,c=e.onSubmit,l=e.color,i=e.colorField;return m.a.createElement("div",{className:"mb-2"},m.a.createElement("form",{className:"form-inline",onSubmit:c},m.a.createElement("div",{className:"form-group my-3"},"comment"===t&&m.a.createElement("input",{type:"color",value:l,className:"mr-2",name:i,onChange:n}),m.a.createElement("input",{type:"text",name:t,value:a,onChange:n,className:"form-control"})),m.a.createElement("button",{type:"submit",className:"btn btn-primary ml-2"},"Add ","comment"===t?"Comment":"New")))},f=(a(3),function(e){var t=e.items,a=e.handleItemDelete,n=e.handleItemClick,c=e.activeItemId;return m.a.createElement("ul",{className:"list-group"},t.map((function(e){var t=e.name,l=e.id,i=e.comments,r=c===l;return m.a.createElement("li",{key:l,onClick:function(){return r?null:n(l)},className:"list-group-item ".concat(r?"active":"")},m.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},m.a.createElement("span",{className:"align-middle"},t),m.a.createElement("div",{className:"d-flex align-items-center"},m.a.createElement("i",{className:"fa fa-commenting-o mx-2"}," ",i.length),m.a.createElement("button",{type:"button",onClick:function(e){return a(e,l)},className:"btn btn-outline-danger btn-sm float-right"},m.a.createElement("i",{className:"fa fa-trash-o"})))))})))}),h=function(e){var t=e.comments;return m.a.createElement("ul",{className:""},t&&t.map((function(e){var t=e.text,a=e.color,n=e.id;return m.a.createElement("li",{key:n,className:"list-group-item"},m.a.createElement("div",{className:"d-flex align-items-center"},m.a.createElement("span",{className:"align-middle"},m.a.createElement("span",{className:"mr-2 d-block",style:{width:"20px",height:"20px",backgroundColor:a}})),m.a.createElement("div",{className:"d-flex align-items-center"},t)))})))},p=function(){return"#".concat(Date.now().toString(16))},E=function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):[]},b=function(e,t){localStorage.setItem(e,JSON.stringify(t))},g=function(e){return{id:p(),name:e,comments:[]}},N=function(e,t){return{id:p(),text:e,color:t}},I=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,m=new Array(n),c=0;c<n;c++)m[c]=arguments[c];return(e=t.call.apply(t,[this].concat(m))).state={name:"",comment:"",isActive:!1,commentColor:"#000",activeItem:{},items:[]},e.componentDidMount=function(){var t=E("items");e.setState({items:t})},e.handleInputChange=function(t){e.setState(Object(r.a)({},t.target.name,t.target.value))},e.handleItemSubmit=function(t){t.preventDefault();var a=e.state,n=a.name,m=a.items;if(""!==n){var c=[g(n)].concat(Object(i.a)(m));b("items",c);var l=E("items");e.setState({name:"",comment:"",items:l,commentColor:"#000"})}},e.handleItemDelete=function(t,a){t.stopPropagation();var n=E("items"),m=n.findIndex((function(e){return e.id===a})),c=[].concat(Object(i.a)(n.slice(0,m)),Object(i.a)(n.slice(m+1)));b("items",c);var l=E("items");e.setState({comment:"",activeItem:{},items:l,commentColor:"#000"})},e.handleItemClick=function(t){var a=e.state.items.find((function(e){return e.id===t}));e.setState({activeItem:a,isActive:!0})},e.handleCommentSubmit=function(t){t.preventDefault();var a=e.state,n=a.items,m=a.comment,c=a.isActive,l=a.activeItem,r=l.id,o=l.comments,s=a.commentColor;if(""!==m&&c){var u=n.findIndex((function(e){return e.id===r})),d=n.find((function(e){return e.id===r}));d.comments=[N(m,s)].concat(Object(i.a)(o)),b("items",[].concat(Object(i.a)(n.slice(0,u)),[d],Object(i.a)(n.slice(u+1))));var v=E("items");e.setState({comment:"",commentColor:"#000",items:v,activeItem:n[u]})}},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.comment,n=e.items,c=e.isActive,l=e.commentColor,i=e.activeItem,r=i.id,o=i.comments;return m.a.createElement("div",{className:"container-fluid h-100"},m.a.createElement("div",{className:"row h-100"},m.a.createElement("div",{className:"col-2 bg-dark"},m.a.createElement("h1",{className:"text-center text-light"},"Dialy app")),m.a.createElement("div",{className:"col-10"},m.a.createElement("div",{className:"d-flex justify-content-center flex-wrap my-3"},m.a.createElement("div",{className:"m-3"},m.a.createElement("div",{className:"shadow border p-3"},m.a.createElement("h3",null,"Items"),m.a.createElement(v,{name:"name",value:t,onChange:this.handleInputChange,onSubmit:this.handleItemSubmit}),m.a.createElement(f,{items:n,activeItemId:r,handleItemDelete:this.handleItemDelete,handleItemClick:this.handleItemClick}))),m.a.createElement("div",{className:"m-3"},m.a.createElement("div",{className:"shadow border p-3"},m.a.createElement("h3",null,"Comments ",r),m.a.createElement(v,{name:"comment",value:a,isActive:c,color:l,colorField:"commentColor",onChange:this.handleInputChange,onSubmit:this.handleCommentSubmit}),m.a.createElement(h,{comments:o})))))))}}]),a}(n.PureComponent);l.a.render(m.a.createElement(m.a.StrictMode,null,m.a.createElement(I,null)),document.getElementById("root"))},3:function(e,t,a){}},[[10,1,2]]]);
//# sourceMappingURL=main.5ed922dd.chunk.js.map