{"version":3,"sources":["components/Form/Form.js","components/ItemsList/ItemList.js","components/CommentsList/CommentsList.js","utils/index.js","App.js","index.js"],"names":["Form","name","value","onChange","onSubmit","color","colorField","className","type","ItemsList","items","handleItemDelete","handleItemClick","activeItemId","map","id","comments","isActive","key","onClick","length","e","CommentsList","text","style","width","height","backgroundColor","generateId","Date","now","toString","getStorageItem","storageItem","localStorage","getItem","JSON","parse","setStorageItem","item","setItem","stringify","createItem","createComments","App","state","comment","commentColor","activeItem","componentDidMount","setState","handleInputChange","target","handleItemSubmit","preventDefault","itemsList","storageItems","itemId","stopPropagation","idx","findIndex","el","newArray","slice","updatedItems","find","handleCommentSubmit","activeStorageItem","this","PureComponent","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5ed922dd.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Form = ({ name, value, onChange, onSubmit, color, colorField }) => (\n  <div className=\"mb-2\">\n    <form className=\"form-inline\" onSubmit={onSubmit}>\n      <div className=\"form-group my-3\">\n        {name === 'comment' && (\n          <input\n            type=\"color\"\n            value={color}\n            className=\"mr-2\"\n            name={colorField}\n            onChange={onChange}\n          />\n        )}\n        <input\n          type=\"text\"\n          name={name}\n          value={value}\n          onChange={onChange}\n          className=\"form-control\"\n        />\n      </div>\n      <button type=\"submit\" className=\"btn btn-primary ml-2\">\n        Add {name === 'comment' ? 'Comment' : 'New'}\n      </button>\n    </form>\n  </div>\n);\n\nexport default Form;","import React from 'react';\n\nimport '../../index.scss';\n\nconst ItemsList = ({ items, handleItemDelete, handleItemClick, activeItemId }) => (\n  <ul className=\"list-group\">\n    {items.map(({ name, id, comments }) => {\n      const isActive = activeItemId === id;\n      return (\n        <li\n          key={id}\n          onClick={() => (isActive ? null : handleItemClick(id))}\n          className={`list-group-item ${isActive ? 'active' : ''}`}\n        >\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <span className=\"align-middle\" >\n              {name}\n            </span>\n            <div className=\"d-flex align-items-center\">\n              <i className=\"fa fa-commenting-o mx-2\"> {comments.length}</i>\n              <button\n                type=\"button\"\n                onClick={(e) => handleItemDelete(e, id)}\n                className=\"btn btn-outline-danger btn-sm float-right\"\n              >\n                <i className=\"fa fa-trash-o\" />\n              </button>\n            </div>\n          </div>\n        </li >\n      )\n    })}\n  </ul>\n);\n\nexport default ItemsList;","import React from 'react';\n\nconst CommentsList = ({ comments }) => (\n  <ul className=\"\">\n    {comments && comments.map(({ text, color, id }) => (\n      <li key={id} className=\"list-group-item\">\n        <div className=\"d-flex align-items-center\">\n          <span className=\"align-middle\">\n            <span className=\"mr-2 d-block\" style={{\n              width: '20px',\n              height: '20px',\n              backgroundColor: color\n            }} />\n          </span>\n          <div className=\"d-flex align-items-center\">\n            {text}\n          </div>\n        </div>\n      </li>\n    ))}\n  </ul>\n);\n\nexport default CommentsList;","const generateId = () => `#${Date.now().toString(16)}`;\n\nexport const getStorageItem = key => {\n  const storageItem = localStorage.getItem(key);\n  return storageItem ? JSON.parse(storageItem) : [];\n};\n\nexport const setStorageItem = (key, item) => {\n  localStorage.setItem(key, JSON.stringify(item))\n};\n\nexport const createItem = (name) => {\n  return {\n    id: generateId(),\n    name,\n    comments: []\n  }\n};\n\nexport const createComments = (text, color) => {\n  return {\n    id: generateId(),\n    text,\n    color\n  }\n};","import React, { PureComponent } from 'react';\n\nimport Form from './components/Form/Form';\nimport ItemsList from './components/ItemsList/ItemList';\nimport CommentsList from './components/CommentsList/CommentsList';\nimport { createItem, createComments, getStorageItem, setStorageItem } from './utils';\n\nexport default class App extends PureComponent {\n  state = {\n    name: '',\n    comment: '',\n    isActive: false,\n    commentColor: '#000',\n    activeItem: {},\n    items: [],\n  }\n\n  componentDidMount = () => {\n    const items = getStorageItem('items');\n    this.setState({ items });\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n\n  handleItemSubmit = (e) => {\n    e.preventDefault();\n    const { name, items } = this.state;\n    if (name === '') return;\n    const itemsList = [createItem(name), ...items];\n\n    setStorageItem('items', itemsList);\n    const storageItems = getStorageItem('items');\n\n    this.setState({\n      name: '',\n      comment: '',\n      items: storageItems,\n      commentColor: '#000',\n    })\n  }\n\n  handleItemDelete = (e, itemId) => {\n    e.stopPropagation();\n    const items = getStorageItem('items');\n    const idx = items.findIndex(el => el.id === itemId);\n    const newArray = [...items.slice(0, idx), ...items.slice(idx + 1)];\n\n    setStorageItem('items', newArray);\n    const updatedItems = getStorageItem('items');\n\n    this.setState({\n      comment: '',\n      activeItem: {},\n      items: updatedItems,\n      commentColor: '#000'\n    })\n  }\n\n  handleItemClick = (itemId) => {\n    const activeItem = this.state.items.find(({ id }) => id === itemId);\n    this.setState({\n      activeItem,\n      isActive: true\n    });\n  }\n\n  handleCommentSubmit = (e) => {\n    e.preventDefault();\n    const {\n      items,\n      comment,\n      isActive,\n      activeItem: { id: activeItemId, comments },\n      commentColor,\n    } = this.state;\n\n    if (comment === '' || !isActive) return;\n\n    const idx = items.findIndex(({ id }) => id === activeItemId);\n    const activeStorageItem = items.find(({ id }) => id === activeItemId);\n\n    activeStorageItem.comments = [\n      createComments(comment, commentColor),\n      ...comments\n    ]\n    setStorageItem('items', [\n      ...items.slice(0, idx), activeStorageItem, ...items.slice(idx + 1)\n    ])\n    const updatedItems = getStorageItem('items');\n\n    this.setState({\n      comment: '',\n      commentColor: '#000',\n      items: updatedItems,\n      activeItem: items[idx],\n    })\n  }\n\n  render() {\n    const {\n      name,\n      comment,\n      items,\n      isActive,\n      commentColor,\n      activeItem: { id, comments },\n    } = this.state;\n    return (\n      <div className=\"container-fluid h-100\">\n        <div className=\"row h-100\">\n          <div className=\"col-2 bg-dark\">\n            <h1 className=\"text-center text-light\">Dialy app</h1>\n          </div>\n          <div className=\"col-10\">\n            <div className=\"d-flex justify-content-center flex-wrap my-3\">\n              <div className=\"m-3\">\n                <div className=\"shadow border p-3\">\n                  <h3>Items</h3>\n                  <Form\n                    name='name'\n                    value={name}\n                    onChange={this.handleInputChange}\n                    onSubmit={this.handleItemSubmit}\n                  />\n                  <ItemsList\n                    items={items}\n                    activeItemId={id}\n                    handleItemDelete={this.handleItemDelete}\n                    handleItemClick={this.handleItemClick}\n                  />\n                </div>\n              </div>\n              <div className=\"m-3\">\n                <div className=\"shadow border p-3\">\n                  <h3>Comments {id}</h3>\n                  <Form\n                    name='comment'\n                    value={comment}\n                    isActive={isActive}\n                    color={commentColor}\n                    colorField='commentColor'\n                    onChange={this.handleInputChange}\n                    onSubmit={this.handleCommentSubmit}\n                  />\n                  <CommentsList comments={comments} />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div >\n    )\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport './index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}